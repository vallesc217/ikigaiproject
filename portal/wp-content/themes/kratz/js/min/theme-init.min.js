jQuery(document).ready(function(){"use strict";function e(){if(KRATZ_STORAGE.vc_edit_mode&&0==jQuery(".vc_empty-placeholder").length&&b++<30)return setTimeout(e,200),void 0;jQuery(document).on("action.init_hidden_elements",u),jQuery(document).on("action.sc_layouts_row_fixed_off",u),jQuery(document).on("action.sc_layouts_row_fixed_on",u);var a=!1;if(jQuery(document).on("action.resize_vc_row_start",function(e,t){a=!0,o(t)}),jQuery(window).resize(function(){a||o()}),KRATZ_STORAGE.scroll_busy=!0,jQuery(window).scroll(function(){window.requestAnimationFrame?KRATZ_STORAGE.scroll_busy||(window.requestAnimationFrame(i),KRATZ_STORAGE.scroll_busy=!0):i()}),t(),o(),i(),jQuery("body").hasClass("menu_style_side")){var s=jQuery(".menu_side_wrap .sc_layouts_logo");s.length>0&&!kratz_is_images_loaded(s)&&kratz_when_images_loaded(s,function(){r()})}}function t(){if(document.documentElement.className=document.documentElement.className.replace(/\bno-js\b/,"js"),-1==document.documentElement.className.indexOf(KRATZ_STORAGE.site_scheme)&&(document.documentElement.className+=" "+KRATZ_STORAGE.site_scheme),KRATZ_STORAGE.background_video&&jQuery(".top_panel.with_bg_video").length>0&&window.Bideo?setTimeout(function(){jQuery(".top_panel.with_bg_video").prepend('<video id="background_video" loop muted></video>');var e=new Bideo;e.init({videoEl:document.querySelector("#background_video"),container:document.querySelector(".top_panel"),resize:!0,isMobile:window.matchMedia("(max-width: 768px)").matches,playButton:document.querySelector("#background_video_play"),pauseButton:document.querySelector("#background_video_pause"),src:[{src:KRATZ_STORAGE.background_video,type:"video/"+kratz_get_file_ext(KRATZ_STORAGE.background_video)}],onLoad:function(){}})},10):jQuery.fn.tubular&&jQuery("div#background_video").each(function(){var e=jQuery(this).data("youtube-code");e&&(jQuery(this).tubular({videoId:e}),jQuery("#tubular-player").appendTo(jQuery(this)).show(),jQuery("#tubular-container,#tubular-shield").remove())}),jQuery(".kratz_tabs:not(.inited)").length>0&&jQuery.ui&&jQuery.ui.tabs&&jQuery(".kratz_tabs:not(.inited)").each(function(){var e=jQuery(this).data("active");if(isNaN(e)){e=0;var t=jQuery(this).find('> ul > li[data-active="true"]').eq(0);t.length>0&&(e=t.index(),(isNaN(e)||0>e)&&(e=0))}else e=Math.max(0,e);jQuery(this).addClass("inited").tabs({active:e,show:{effect:"fadeIn",duration:300},hide:{effect:"fadeOut",duration:300},create:function(e,t){t.panel.length>0&&jQuery(document).trigger("action.init_hidden_elements",[t.panel])},activate:function(e,t){t.newPanel.length>0&&jQuery(document).trigger("action.init_hidden_elements",[t.newPanel])}})}),jQuery(".kratz_tabs_ajax").on("tabsbeforeactivate",function(e,t){t.newPanel.data("need-content")&&w(t.newPanel,1,t.oldPanel)}),jQuery(".kratz_tabs_ajax").on("click",".nav-links a",function(e){var t=jQuery(this).parents(".kratz_tabs_content"),i=1,a=jQuery(this).attr("href"),s=-1;return-1!=(s=a.lastIndexOf("/page/"))&&(i=Number(a.substr(s+6).replace("/","")),isNaN(i)||(i=Math.max(1,i))),w(t,i),e.preventDefault(),!1}),jQuery(".sidebar_control").on("click",function(e){return jQuery(this).parent().toggleClass("opened"),jQuery("body").hasClass("sidebar_small_screen_above")&&(jQuery(this).next().slideToggle(),jQuery(this).parent().hasClass("opened")&&setTimeout(function(){jQuery(document).trigger("action.init_hidden_elements",[jQuery(this).next()])},310)),e.preventDefault(),!1}),jQuery(".menu_side_button").on("click",function(e){return jQuery(this).parent().toggleClass("opened"),e.preventDefault(),!1}),jQuery('.sc_layouts_menu li[class*="image-"]').each(function(){for(var e=jQuery(this).attr("class").split(" "),t="",i=0;i<e.length;i++)if(e[i].indexOf("image-")>=0){t=e[i].replace("image-","");break}t&&jQuery(this).find(">a").css("background-image","url("+KRATZ_STORAGE.theme_url+"trx_addons/css/icons.png/"+t+".png")}),jQuery(".menu_mobile .menu-item-has-children > a,.sc_layouts_menu_dir_vertical .menu-item-has-children > a").append('<span class="open_child_menu"></span>'),jQuery(".sc_layouts_menu_mobile_button > a,.menu_mobile_button,.menu_mobile_description").on("click",function(e){return jQuery(this).parent().hasClass("sc_layouts_menu_mobile_button_burger")&&jQuery(this).next().hasClass("sc_layouts_menu_popup")?void 0:(jQuery(".menu_mobile_overlay").fadeIn(),jQuery(".menu_mobile").addClass("opened"),jQuery(document).trigger("action.stop_wheel_handlers"),e.preventDefault(),!1)}),jQuery(document).on("keypress",function(e){return 27==e.keyCode&&1==jQuery(".menu_mobile.opened").length?(jQuery(".menu_mobile_overlay").fadeOut(),jQuery(".menu_mobile").removeClass("opened"),jQuery(document).trigger("action.start_wheel_handlers"),e.preventDefault(),!1):void 0}),jQuery(".menu_mobile_close, .menu_mobile_overlay").on("click",function(e){return jQuery(".menu_mobile_overlay").fadeOut(),jQuery(".menu_mobile").removeClass("opened"),jQuery(document).trigger("action.start_wheel_handlers"),e.preventDefault(),!1}),jQuery(".menu_mobile,.sc_layouts_menu_dir_vertical").on("click","li a, li a .open_child_menu",function(e){var t=jQuery(this).hasClass("open_child_menu")?jQuery(this).parent():jQuery(this);return t.parent().hasClass("menu-item-has-children")&&("#"==t.attr("href")||jQuery(this).hasClass("open_child_menu"))&&(t.siblings("ul:visible").length>0?t.siblings("ul").slideUp().parent().removeClass("opened"):(jQuery(this).parents("li").eq(0).siblings("li").find("ul:visible").slideUp().parent().removeClass("opened"),t.siblings("ul").slideDown(function(){!jQuery(this).hasClass("layouts_inited")&&jQuery(this).parents(".menu_mobile").length>0&&(jQuery(this).addClass("layouts_inited"),jQuery(document).trigger("action.init_hidden_elements",[jQuery(this)]))}).parent().addClass("opened"))),!jQuery(this).hasClass("open_child_menu")&&jQuery(this).parents(".menu_mobile").length>0&&kratz_is_local_link(t.attr("href"))&&jQuery(".menu_mobile_close").trigger("click"),jQuery(this).hasClass("open_child_menu")||"#"==t.attr("href")?(e.preventDefault(),!1):void 0}),(!KRATZ_STORAGE.trx_addons_exist||jQuery(".top_panel.top_panel_default .sc_layouts_menu_default").length>0)&&(g(".sc_layouts_menu:not(.inited) > ul:not(.inited)"),jQuery(".sc_layouts_menu:not(.inited)").each(function(){1==jQuery(this).find(">ul.inited").length&&jQuery(this).addClass("inited")}),jQuery(window).trigger("scroll")),jQuery(".nav-load-more").on("click",function(e){function t(e,t){if(e.length>0&&t.length>0){t.addClass("just_loaded_items"),e.append(t);var n=e.find(".just_loaded_items");(e.hasClass("portfolio_wrap")||e.hasClass("masonry_wrap"))&&(n.addClass("hidden"),kratz_when_images_loaded(n,function(){n.removeClass("hidden"),e.masonry("appended",t).masonry(),e.hasClass("gallery_wrap")&&KRATZ_STORAGE.GalleryFx[e.attr("id")].appendItems()})),n.removeClass("just_loaded_items hidden"),i.data("page",a+1).parent().removeClass("loading"),jQuery("#toc_menu").remove(),KRATZ_STORAGE.init_all_mediaelements=!0,jQuery(document).trigger("action.init_hidden_elements",[e.parent()])}a+1>=s?i.parent().hide():KRATZ_STORAGE.load_more_link_busy=!1,jQuery(window).trigger("scroll")}if(!KRATZ_STORAGE.load_more_link_busy){KRATZ_STORAGE.load_more_link_busy=!0;var i=jQuery(this),a=Number(i.data("page")),s=Number(i.data("max-page"));if(a>=s)return i.parent().hide(),void 0;i.parent().addClass("loading");var n=i.parents(".kratz_tabs_content");return 0==n.length?jQuery.get(location.href,{paged:a+1}).done(function(e){var i="kratz-inline-styles-inline-css",a=e.indexOf(i);if(0>a&&(i="trx_addons-inline-styles-inline-css",a=e.indexOf(i)),a>0){a=e.indexOf(">",a)+1;var s=e.indexOf("</style>",a),n=e.substring(a,s),o=jQuery("#"+i);0==o.length?jQuery("body").append('<style id="'+i+'" type="text/css">'+n+"</style>"):o.append(n)}var r=jQuery(e).find(".content .posts_container");0==r.length&&(r=jQuery(e).find(".posts_container")),r.length>0&&t(jQuery(".content .posts_container").eq(0),r.find('> .masonry_item,> div[class*="column-"],> article'))}):jQuery.post(KRATZ_STORAGE.ajax_url,{nonce:KRATZ_STORAGE.ajax_nonce,action:"kratz_ajax_get_posts",blog_template:n.data("blog-template"),blog_style:n.data("blog-style"),posts_per_page:n.data("posts-per-page"),cat:n.data("cat"),parent_cat:n.data("parent-cat"),post_type:n.data("post-type"),taxonomy:n.data("taxonomy"),page:a+1}).done(function(e){var i={};try{i=JSON.parse(e)}catch(a){i={error:KRATZ_STORAGE.msg_ajax_error},console.log(e)}""!==i.error?n.html('<div class="kratz_error">'+i.error+"</div>"):t(n.find(".posts_container"),jQuery(i.data).find('> .masonry_item,> div[class*="column-"],> article'))}),e.preventDefault(),!1}}),jQuery(document).on("action.scroll_kratz",function(){if(!KRATZ_STORAGE.load_more_link_busy){var e=jQuery(".nav-links-infinite");if(0!=e.length){var t=jQuery(".content > .posts_container").eq(0);t.offset().top+t.height()<jQuery(window).scrollTop()+1.5*jQuery(window).height()&&e.find("a").trigger("click")}}}),KRATZ_STORAGE.cur_page_url=location.href,KRATZ_STORAGE.cur_page_title=jQuery("head title").text(),jQuery(document).on("action.scroll_kratz",function(){var e=jQuery(".nav-links-single-scroll");if(0!=e.length){var t=jQuery(".content").eq(0),i=KRATZ_STORAGE.cur_page_url,s=KRATZ_STORAGE.cur_page_title;e.each(function(){var e=jQuery(this),n=e.data("post-link"),o=e.offset().top,r=jQuery(window).scrollTop(),l=jQuery(window).height();e.hasClass("nav-links-single-scroll-loaded")?n&&r+l/2>o&&(i=n,s=e.data("post-title")):!e.hasClass("kratz_loading")&&n&&r+2*l>o&&(a(t.find(".previous_post_content:last-child > article[data-post-id]").data("post-id")),e.addClass("kratz_loading"),jQuery.get(kratz_add_to_url(n,{action:"prev_post_loading"})).done(function(i){var a=jQuery(i).find(".content");a.length>0&&(t.append('<div class="previous_post_content">'+a.html()+"</div>"),e.removeClass("kratz_loading").addClass("nav-links-single-scroll-loaded"),jQuery("#toc_menu").remove(),KRATZ_STORAGE.init_all_mediaelements=!0,jQuery(document).trigger("action.init_hidden_elements",[t]),jQuery(window).trigger("scroll").trigger("resize"))}))}),i!=location.href&&(kratz_document_set_location(i),jQuery("head title").html(s))}}),jQuery("body").hasClass("single")&&a(jQuery(".content > article[data-post-id]").data("post-id")),jQuery(document).on("action.init_hidden_elements",function(e,t){var i=kratz_get_storage("kratz_post_read");if(i&&"["==i.charAt(0)){i=JSON.parse(i);for(var a=0;a<i.length;a++){var s=t.find('[data-post-id="'+i[a]+'"]');s.addClass("full_post_read")||s.parent().hasClass("content")||s.addClass("full_post_read")}}}),KRATZ_STORAGE.open_full_post&&jQuery(".posts_container,.sc_blogger_content.sc_item_posts_container").on("click","a",function(e){var t=jQuery(this),i=t.attr("href"),a=t.parents(".post_item,.sc_blogger_item").eq(0),s=a.find(".post_title > a,.entry-title > a").attr("href"),n=a.parents(".posts_container,.sc_item_posts_container").eq(0);return!i||!s||i!=s||n.hasClass("columns_wrap")||n.hasClass("masonry_wrap")||n.hasClass("chess_wrap")||0!=n.find(".sc_blogger_grid_wrap").length||0!=n.find(".masonry_wrap").length||0!=n.parents(".wp-block-columns").length||0!=n.parents(".wpb_column").length&&!n.parents(".wpb_column").eq(0).hasClass("vc_col-sm-12")||0!=n.parents(".elementor-column").length&&!n.parents(".elementor-column").eq(0).hasClass("elementor-col-100")?void 0:(n.find(".full_post_opened").removeClass("full_post_opened").show(),n.find(".full_post_content").remove(),a.addClass("full_post_loading"),jQuery.get(kratz_add_to_url(s,{action:"full_post_loading"})).done(function(e){var t=jQuery(e).find(".content");if(t.length>0){var i=a.offset().top-(a.parents(".posts_container").length>0?100:200);kratz_document_animate_to(i),a.after('<div class="full_post_content"><button class="full_post_close" data-post-url="'+s+'"></button>'+t.html()+"</div>").removeClass("full_post_loading").addClass("full_post_opened").slideUp("fast").next().slideDown("slow"),a.next().find(".full_post_close").on("click",function(e){var t=jQuery(this).parent(),i=t.offset().top-(t.parents(".posts_container").length>0?100:200),a=t.prev();return a.removeClass("full_post_opened").slideDown(),kratz_document_animate_to(i),t.remove(),e.preventDefault(),!1}),jQuery("#toc_menu").remove(),KRATZ_STORAGE.init_all_mediaelements=!0,jQuery(document).trigger("action.init_hidden_elements",[n]),jQuery(window).trigger("scroll").trigger("resize")}}),e.preventDefault(),!1)}),jQuery('input[type="checkbox"][name="AGREE_TO_TERMS"]:not(.inited),input[type="checkbox"][name="i_agree_privacy_policy"]:not(.inited),input[type="checkbox"][name="gdpr_terms"]:not(.inited),input[type="checkbox"][name="wpgdprc"]:not(.inited)').length>0&&jQuery('input[type="checkbox"][name="AGREE_TO_TERMS"]:not(.inited),input[type="checkbox"][name="i_agree_privacy_policy"]:not(.inited),input[type="checkbox"][name="gdpr_terms"]:not(.inited),input[type="checkbox"][name="wpgdprc"]:not(.inited)').addClass("inited").on("change",function(){jQuery(this).get(0).checked?jQuery(this).parents("form").find('button,input[type="submit"]').removeAttr("disabled"):jQuery(this).parents("form").find('button,input[type="submit"]').attr("disabled","disabled")}).trigger("change"),jQuery(".mc4wp-form-fields").length>0){var e=1;jQuery(".mc4wp-form-fields").each(function(){jQuery(this).find('input[type="checkbox"]').each(function(){var t=jQuery(this).attr("id");t||(t="go"),jQuery(this).attr("id",t+e),jQuery(this).next("label").attr("for",t+e),e++})})}jQuery(document).trigger("action.ready_kratz"),jQuery(document).trigger("action.prepare_stretch_width"),jQuery(".trx-stretch-width").wrap('<div class="trx-stretch-width-wrap"></div>'),jQuery(".trx-stretch-width").after('<div class="trx-stretch-width-original"></div>'),d(),jQuery(document).on("action.init_hidden_elements",j),jQuery(document).on("action.init_hidden_elements",v),jQuery(document).trigger("action.init_hidden_elements",[jQuery("body").eq(0)])}function i(){jQuery(document).trigger("action.scroll_kratz"),m(),n(),f(),s(),KRATZ_STORAGE.scroll_busy=!1}function a(e){if(e>0){var t=kratz_get_storage("kratz_post_read");t=t&&"["==t.charAt(0)?JSON.parse(t):[],-1==t.indexOf(e)&&t.push(e),kratz_set_storage("kratz_post_read",JSON.stringify(t))}}function s(){if(KRATZ_STORAGE.open_full_post){var e=jQuery(".full_post_close");if(1==e.length){var t=e.parent(),i=t.offset().top,s=t.height(),n=jQuery(window).scrollTop(),o=jQuery(window).height(),r=e.find(".full_post_progress");if(n>i){0==r.length&&(e.append('<span class="full_post_progress"><svg viewBox="0 0 50 50"><circle class="full_post_progress_bar" cx="25" cy="25" r="22"></circle></svg></span>'),r=e.find(".full_post_progress"));var l=r.find(".full_post_progress_bar"),d=parseFloat(l.css("stroke-dasharray"));if(i+s>n+o){var u=i+s-(n+o),_=l.data("delta");if(void 0==_&&(_=u,l.data("delta",_)),l.css("stroke-dashoffset",Math.min(1,u/_)*d),.5>u/_){var c=t.prev(),h=c.data("post-id");c.addClass("full_post_read"),a(h)}}else e.hasClass("full_post_read_complete")?n+o>i+s+o/3&&e.trigger("click"):e.addClass("full_post_read_complete")}else 0==r.length&&r.remove()}}}function n(){if(jQuery("body").hasClass("header_position_under")&&!kratz_browser_is_mobile()){var e=jQuery(".top_panel"),t=jQuery(".footer_wrap"),i=jQuery(".page_content_wrap");if(jQuery("body").hasClass("mobile_layout"))return"fixed"==e.css("position")&&(e.css({position:"relative",left:"auto",top:"auto",width:"auto",transform:"none",zIndex:3}),e.find(".top_panel_mask").hide(),i.css({marginTop:0,marginBottom:0,zIndex:2}),t.css({position:"relative",left:"auto",bottom:"auto",width:"auto",transform:"none",zIndex:1}),t.find(".top_panel_mask").hide()),void 0;var a=50,s=jQuery(window).scrollTop(),n=e.height(),o=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&0!=e.find(".slider_engine_revo").length?0:0,r=jQuery("#wpadminbar"),l=0==r.length?0:r.height(),d=e.find(".top_panel_mask");if(0==d.length&&(e.append('<div class="top_panel_mask"></div>'),d=e.find(".top_panel_mask")),"fixed"!==e.css("position")?(i.css({zIndex:5,marginTop:n+"px"}),e.css({position:"fixed",left:0,top:l+"px",width:"100%",zIndex:3})):i.css("marginTop",n+"px"),s>0){var u=s;if(n>=u){var _=Math.max(0,Math.min(.8,(u-a)/n));o&&e.css("transform","translate3d(0px, "+-Math.round(u/o)+"px, 0px)"),d.css({opacity:_,display:0==u?"none":"block"})}else o&&e.css("transform","translate3d(0px, "+-Math.round(u/o)+"px, 0px)")}else o&&e.css("transform","none"),"none"!=d.css("display")&&d.css({opacity:0,display:"none"});var c=Math.min(t.height(),jQuery(window).height()),h=s+jQuery(window).height()-(e.outerHeight()+jQuery(".page_content_wrap").outerHeight());if("fixed"!==t.css("position")?(i.css({marginBottom:c+"px"}),t.css({position:"fixed",left:0,bottom:0,width:"100%",zIndex:2})):i.css("marginBottom",c+"px"),h>0)if(2==t.css("zIndex")&&t.css("zIndex",4),d=t.find(".top_panel_mask"),0==d.length&&(t.append('<div class="top_panel_mask"></div>'),d=t.find(".top_panel_mask")),c>=h){var _=Math.max(0,Math.min(.8,(c-h)/c));o&&t.css("transform","translate3d(0px, "+Math.round((c-h)/o)+"px, 0px)"),d.css({opacity:_,display:0>=c-h?"none":"block"})}else o&&t.css("transform","none"),"none"!=d.css("display")&&d.css({opacity:0,display:"none"});else 4==t.css("zIndex")&&t.css("zIndex",2)}}function o(e){l(),m(!0),y(),f(),d(e),u(null,e),h(),p(e),r(),_(e),n(),jQuery(document).trigger("action.resize_kratz",[e])}function r(){var e=jQuery(".menu_side_wrap .toc_menu_item");if(0!=e.length){var t=jQuery(window).height()-kratz_fixed_rows_height(!0,!1)-jQuery(".menu_side_wrap .sc_layouts_logo").outerHeight()-e.length,i=Math.floor(t/e.length),a=t-i*e.length;KRATZ_STORAGE.menu_side_stretch&&e.length>=5&&i>=30&&(e.find(".toc_menu_description,.toc_menu_icon").css({height:i+"px",lineHeight:i+"px"}),e.eq(0).find(".toc_menu_description,.toc_menu_icon").css({height:i+a+"px",lineHeight:i+a+"px"}))}}function l(){var e=!0;jQuery("body").hasClass("no_layout")&&(jQuery("body").removeClass("no_layout"),e=!1);var t=window.innerWidth;void 0==t&&(t=jQuery(window).width()+(jQuery(window).height()<jQuery(document).height()||jQuery(window).scrollTop()>0?16:0)),KRATZ_STORAGE.mobile_layout_width>=t?jQuery("body").hasClass("mobile_layout")||(jQuery("body").removeClass("desktop_layout").addClass("mobile_layout"),jQuery(document).trigger("action.switch_to_mobile_layout"),e&&jQuery(window).trigger("resize")):jQuery("body").hasClass("desktop_layout")||(jQuery("body").removeClass("mobile_layout").addClass("desktop_layout"),jQuery(".menu_mobile").removeClass("opened"),jQuery(".menu_mobile_overlay").hide(),jQuery(document).trigger("action.switch_to_desktop_layout"),e&&jQuery(window).trigger("resize")),(KRATZ_STORAGE.mobile_device||kratz_browser_is_mobile())&&jQuery("body").addClass("mobile_device")}function d(e){void 0===e&&(e=jQuery("body")),e.find(".trx-stretch-width").each(function(){var e=jQuery(this),t=e.parents(".page_wrap"),i=0;0==t.length?t=jQuery(window):i=t.offset().left;var a=e.next(".trx-stretch-width-original"),s=parseInt(e.css("margin-left"),10),n=parseInt(e.css("margin-right"),10),o=i-a.offset().left-s,r=t.width();if(e.hasClass("inited")||(e.addClass("inited invisible"),e.css({position:"relative","box-sizing":"border-box"})),e.css({left:o,width:t.width()}),!e.hasClass("trx-stretch-content")){var l=Math.max(0,-1*o),d=Math.max(0,r-l-a.width()+s+n);e.css({"padding-left":l+"px","padding-right":d+"px"})}e.removeClass("invisible")})}function u(e,t){void 0===t&&(t=jQuery("body")),t.find(".kratz-full-height").each(function(){if(!(jQuery(this).parents("div:hidden,section:hidden,article:hidden").length>0)){var e=jQuery(this),t=jQuery(this).closest(".vc_row,.elementor-section").eq(0);if(t.hasClass("vc_row-o-full-height")||t.hasClass("elementor-section-height-full"))"auto"!=t.css("height")?e.height(t.height()):"auto"!=e.css("height")&&e.height("auto");else{var i=jQuery(window).height()>=698&&jQuery(window).width()>1024?jQuery(window).height()-kratz_fixed_rows_height():"auto";i>0?(e.data("display")!=e.css("display")&&e.css("display",e.data("display")),e.css("height","auto").outerHeight()<=i&&e.css("height",i)):"auto"==i&&"auto"!=e.css("height")&&(void 0==e.data("display")&&e.attr("data-display",e.css("display")),e.css({height:i,display:"block"}))}}})}function _(e){void 0===e&&(e=jQuery("body")),e.find("video").each(function(){if(!(jQuery(this).hasClass("trx_addons_resize")||jQuery(this).parents("div:hidden,section:hidden,article:hidden").length>0)){var e=jQuery(this).addClass("kratz_resize").eq(0),t=void 0!==e.data("ratio")?e.data("ratio").split(":"):[16,9];t=2!=t.length||0==t[0]||0==t[1]?16/9:t[0]/t[1];var i=e.parents(".mejs-video").eq(0),a=e.data("width"),s=e.data("height");if(!a||!s){if(a=e.attr("width"),s=e.attr("height"),!a||!s)return;e.data({width:a,height:s})}var n="%"==(""+a).substr(-1);a=parseInt(a,10),s=parseInt(s,10);var o=Math.round(i.length>0?Math.min(n?1e4:a,i.parents("div,article").eq(0).width()):Math.min(n?1e4:a,e.parents("div,article").eq(0).width())),r=Math.round(n?o/t:o/a*s);parseInt(e.attr("data-last-width"),10)!=o&&(n?e.height(r):e.parents(".wp-video-playlist").length>0?0===i.length&&e.attr({width:o,height:r}):(e.attr({width:o,height:r}).css({width:o+"px",height:r+"px"}),i.length>0&&c(e,o,r)),e.attr("data-last-width",o))}}),e.find(".video_frame iframe").each(function(){if(!(jQuery(this).hasClass("trx_addons_resize")||jQuery(this).addClass("kratz_resize").parents("div:hidden,section:hidden,article:hidden").length>0)){var e=jQuery(this).eq(0);if(!(e.attr("src").indexOf("soundcloud")>0)){var t=void 0!==e.data("ratio")?e.data("ratio").split(":"):void 0!==e.parent().data("ratio")?e.parent().data("ratio").split(":"):e.find("[data-ratio]").length>0?e.find("[data-ratio]").data("ratio").split(":"):[16,9];t=2!=t.length||0==t[0]||0==t[1]?16/9:t[0]/t[1];var i=e.attr("width"),a=e.attr("height");if(i&&a){var s="%"==(""+i).substr(-1);i=parseInt(i,10),a=parseInt(a,10);var n=e.parents("div,section").eq(0),o=n.width(),r=n.height(),l=o,d=Math.round(s?l/t:l/i*a);"absolute"==n.css("position")&&d>r&&(d=r,l=Math.round(s?d*t:d*i/a)),parseInt(e.attr("data-last-width"),10)!=l&&(e.css({width:l+"px",height:d+"px"}),e.attr("data-last-width",l))}}}})}function c(e,t,i){if(mejs)for(var a in mejs.players)mejs.players[a].media.src==e.attr("src")&&(mejs.players[a].media.setVideoSize?mejs.players[a].media.setVideoSize(t,i):mejs.players[a].media.setSize&&mejs.players[a].media.setSize(t,i),mejs.players[a].setPlayerSize(t,i),mejs.players[a].setControlsSize())}function h(){var e=jQuery("div#background_video,.tourmaster-background-video");if(0!=e.length){var t=e.hasClass("tourmaster-background-video")?e.parent():e,i=t.width(),a=t.height(),s=e.find(">iframe,>video");16/9>i/a?i=a/9*16:a=i/16*9,s.attr({width:i,height:a}).css({width:i,height:a})}}function p(e){if(jQuery("body").hasClass("body_style_boxed")||jQuery("body").hasClass("menu_style_side")){void 0!==e&&e.hasClass(".vc_row")&&e.data("vc-full-width")||(e=jQuery('.vc_row[data-vc-full-width="true"]'));var t=jQuery(".page_wrap").width(),i=jQuery(".page_content_wrap .content_wrap").width(),a=(t-i)/2,s="rtl"==jQuery("html").attr("dir");e.each(function(){var e=parseInt(jQuery(this).css("marginLeft")),i=jQuery(this).attr("data-vc-stretch-content"),n=jQuery(this).parents(".content_wrap").length>0;jQuery(this).css({width:t,left:s?"auto":(n?-a:0)-e,right:s?(n?-a:0)-e:"auto","padding-left":i?0:a+e,"padding-right":i?0:a+e})})}}function y(){if(jQuery("body").hasClass("header_position_under")&&!kratz_browser_is_mobile()){var e=jQuery(".footer_wrap");if(e.length>0){var t=e.outerHeight(!1),i=jQuery(".page_content_wrap"),a=i.offset().top,s=i.height();a+s+t<jQuery(window).height()?"absolute"!=e.css("position")&&e.css({position:"absolute",left:0,bottom:0,width:"100%"}):"relative"!=e.css("position")&&e.css({position:"relative",left:"auto",bottom:"auto"})}}}function m(e){var t=jQuery(".sidebar:not(.sidebar_fixed_placeholder)"),i=t.siblings(".content");if(t.length>0)if("none"==i.css("float")){var a=t.data("old_style");void 0!==a&&t.attr("style",a).removeAttr("data-old_style")}else{var s=t.outerHeight(),n=i.outerHeight(),o=i.offset().top,r=jQuery(window).scrollTop(),l=kratz_fixed_rows_height();if(n>s&&r+l>o){var d={position:"undefined","float":"none",top:"auto",bottom:"auto",marginLeft:"0",marginRight:"0"};"undefined"==typeof KRATZ_STORAGE.scroll_offset_last&&(KRATZ_STORAGE.sb_top_last=o,KRATZ_STORAGE.scroll_offset_last=r,KRATZ_STORAGE.scroll_dir_last=1);var u=r-KRATZ_STORAGE.scroll_offset_last;u=0==u?KRATZ_STORAGE.scroll_dir_last:u>0?1:-1;var _=s+30>=jQuery(window).height()-l,c=t.offset().top;if(0>c&&(c=KRATZ_STORAGE.sb_top_last),_?u!=KRATZ_STORAGE.scroll_dir_last&&"fixed"==t.css("position")?(d.top=c-o,d.position="absolute"):u>0?r+jQuery(window).height()>=o+n+30?(d.bottom=0,d.position="absolute"):r+jQuery(window).height()>=("absolute"==t.css("position")?c:o)+s+30&&(d.bottom=30,d.position="fixed"):c>=r+l&&(d.top=l,d.position="fixed"):r+l>=o+n-s?(d.bottom=0,d.position="absolute"):(d.top=l,d.position="fixed"),e&&"undefined"==d.position&&"absolute"==t.css("position")&&(d.position="absolute","auto"!=t.css("top")?d.top=t.css("top"):d.bottom=t.css("bottom")),"undefined"!=d.position){var h=t.attr("style");h||(h=""),t.prev().hasClass("sidebar_fixed_placeholder")||(t.css(d),KRATZ_STORAGE.scroll_dir_last=0,t.before('<div class="sidebar_fixed_placeholder '+t.attr("class")+'"'+(t.data("sb")?' data-sb="'+t.data("sb")+'"':"")+"></div>")),d.left="fixed"==d.position||jQuery("body").hasClass("body_style_fullwide")||jQuery("body").hasClass("body_style_fullscreen")?t.prev().offset().left:t.prev().position().left,d.right="auto",d.width=t.prev().width()+parseFloat(t.prev().css("paddingLeft"))+parseFloat(t.prev().css("paddingRight")),(e||t.css("position")!=d.position||KRATZ_STORAGE.scroll_dir_last!=u||t.width()!=d.width)&&(void 0===t.data("old_style")&&t.attr("data-old_style",h),t.css(d))}KRATZ_STORAGE.sb_top_last=c,KRATZ_STORAGE.scroll_offset_last=r,KRATZ_STORAGE.scroll_dir_last=u}else{var a=t.data("old_style");void 0!==a&&(t.attr("style",a).removeAttr("data-old_style"),t.prev().hasClass("sidebar_fixed_placeholder")&&t.prev().remove())}}}function f(){var e=jQuery(".nav-links-single.nav-links-fixed");if(e.length>0&&"fixed"==e.css("position")){var t=jQuery(window).height(),i=jQuery(window).scrollTop()+t,a=jQuery(".post_item_single"),s=a.length>0?a.offset().top:t,n=s+(a.length>0?a.height():0),o=jQuery(".footer_wrap"),r=o.length>0?o.offset().top:1e5;i>n&&r>i?e.hasClass("nav-links-visible")||e.addClass("nav-links-visible"):e.hasClass("nav-links-visible")&&e.removeClass("nav-links-visible")}}function g(e){jQuery(e).show().each(function(){if(!(jQuery(this).addClass("inited").parents(".menu_mobile").length>0)){var e=jQuery(this).parent().data("animation_in");void 0==e&&(e="none");var t=jQuery(this).parent().data("animation_out");void 0==t&&(t="none"),jQuery(this).superfish({delay:500,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"none"!=e?500:200,speedOut:"none"!=t?500:200,autoArrows:!1,dropShadows:!1,onBeforeShow:function(){if(jQuery(this).parents("ul").length>1){var i=jQuery(".page_wrap").width(),a=jQuery(this).parents("ul").eq(0).offset().left,s=jQuery(this).parents("ul").eq(0).outerWidth(),n=jQuery(this).outerWidth();a+s+n>i-20&&a-n>0?jQuery(this).addClass("submenu_left"):jQuery(this).removeClass("submenu_left")}if(jQuery(this).parents(".top_panel").length>0){for(var o=jQuery(this).outerHeight(),r=jQuery(window).height(),l=jQuery(this).parents(".sc_layouts_row").eq(0),d=0,u=0,_=jQuery(this).parent(),a=0;l.length>0&&(d+=l.outerHeight(),!l.hasClass("sc_layouts_row_fixed_on"));)l=l.prev();for(;_.length>0&&(a+=_.position().top+_.parent().position().top,u=_.outerHeight(),0!=_.position().top);)_=_.parents("li").eq(0);d+a+o>r&&(a>o?jQuery(this).css({top:"auto",bottom:"-1.4em"}):jQuery(this).css({top:"-"+(a-u-2)+"px",bottom:"auto"}))}"none"!=e&&(jQuery(this).removeClass("animated fast "+t),jQuery(this).addClass("animated fast "+e))},onBeforeHide:function(){"none"!=t&&(jQuery(this).removeClass("animated fast "+e),jQuery(this).addClass("animated fast "+t))},onShow:function(){jQuery(this).hasClass("layouts_inited")||(jQuery(this).addClass("layouts_inited"),jQuery(document).trigger("action.init_hidden_elements",[jQuery(this)]))}})}})}function v(){jQuery(".menu_side_inner").length>0&&jQuery("#toc_menu").length>0&&(jQuery("#toc_menu").appendTo(".menu_side_inner"),r())}function j(e,t){t.find('select:not(.esg-sorting-select):not([class*="trx_addons_attrib_"])').each(function(){var e=jQuery(this);"none"==e.css("display")||0!=e.parents(".select_container").length||e.next().hasClass("select2")||e.hasClass("select2-hidden-accessible")||(e.wrap('<div class="select_container"></div>'),e.parents(".widget_categories").length>0&&(e.parent().get(0).submit=function(){jQuery(this).closest("form").eq(0).submit()}))}),Q(t),t.find(".format-video .post_featured.with_thumb .post_video_hover:not(.inited)").addClass("inited").on("click",function(e){return jQuery(this).parents(".post_featured").eq(0).addClass("post_video_play").find(".post_video").html(jQuery(this).data("video")),jQuery(window).trigger("resize"),e.preventDefault(),!1})}function Q(e){KRATZ_STORAGE.use_mediaelements&&e.find("audio:not(.inited),video:not(.inited)").length>0&&(window.mejs?(window.mejs.MepDefaults&&(window.mejs.MepDefaults.enableAutosize=!0),window.mejs.MediaElementDefaults&&(window.mejs.MediaElementDefaults.enableAutosize=!0),e.find("audio:not(.inited),video:not(.inited)").each(function(){if(!(jQuery(this).parents("div:hidden,section:hidden,article:hidden").length>0||0!=jQuery(this).addClass("inited").parents(".mejs-mediaelement").length||0!=jQuery(this).parents(".wp-block-video").length||jQuery(this).hasClass("wp-block-cover__video-background")||!KRATZ_STORAGE.init_all_mediaelements&&(jQuery(this).hasClass("wp-audio-shortcode")||jQuery(this).hasClass("wp-video-shortcode")||jQuery(this).parent().hasClass("wp-playlist")))){var e=jQuery(this),t=e.parents(".post_video,.video_frame").eq(0),i=t.length>0?t.width():-1,a=t.length>0?Math.floor(i/16*9):-1,s={enableAutosize:!0,videoWidth:i,videoHeight:a,audioWidth:"100%",audioHeight:40,success:function(e){e.pluginType&&"flash"===e.pluginType&&e.attributes&&(e.attributes.autoplay&&"false"!==e.attributes.autoplay&&e.addEventListener("canplay",function(){e.play()},!1),e.attributes.loop&&"false"!==e.attributes.loop&&e.addEventListener("ended",function(){e.play()},!1))}};jQuery(this).mediaelementplayer(s)}})):KRATZ_STORAGE.mejs_attempts++<5&&setTimeout(function(){Q(e)},400)),setTimeout(function(){KRATZ_STORAGE.init_all_mediaelements=!0},1e3)}function w(e,t,i){if(""==e.html().replace(/\s/g,"")){var a=void 0===i?e.height():i.height();(isNaN(a)||100>a)&&(a=100),e.html('<div class="kratz_tab_holder" style="min-height:'+a+'px;"></div>')}else e.find("> *").addClass("kratz_tab_content_remove");e.data("need-content",!1).addClass("kratz_loading"),jQuery.post(KRATZ_STORAGE.ajax_url,{nonce:KRATZ_STORAGE.ajax_nonce,action:"kratz_ajax_get_posts",blog_template:e.data("blog-template"),blog_style:e.data("blog-style"),posts_per_page:e.data("posts-per-page"),cat:e.data("cat"),parent_cat:e.data("parent-cat"),post_type:e.data("post-type"),taxonomy:e.data("taxonomy"),page:t}).done(function(t){e.removeClass("kratz_loading");var i={};try{i=JSON.parse(t)}catch(a){i={error:KRATZ_STORAGE.msg_ajax_error},console.log(t)}""!==i.error?e.html('<div class="kratz_error">'+i.error+"</div>"):e.prepend(i.data).fadeIn(function(){jQuery(document).trigger("action.init_hidden_elements",[e]),jQuery(window).trigger("scroll"),setTimeout(function(){e.find(".kratz_tab_holder,.kratz_tab_content_remove").remove(),jQuery(window).trigger("scroll")},600)})})}var b=0;e(),jQuery(document).on("action.toc_menu_item_active",function(){var e=jQuery(".menu_side_wrap #toc_menu");if(0!=e.length){var t=e.find(".toc_menu_item");if(0!=t.length){var i=t.eq(0).height(),a=parseFloat(e.css("top")),s=t.length*i,n=jQuery(window).height()-kratz_fixed_rows_height(!0,!1)-jQuery(".menu_side_wrap .sc_layouts_logo").outerHeight()-jQuery(".menu_side_wrap .sc_layouts_logo + .toc_menu_item").outerHeight();
if(s>n){var o=jQuery(".menu_side_wrap .toc_menu_item_active").eq(0);if(1==o.length){var r=(o.index()+1)*i;a+r>n-i?e.css("top",Math.max(-r+3*i,n-s)):0>a&&-a+2*i>r&&e.css("top",Math.min(-r+3*i,0))}}else 0>a&&e.css("top",0)}}}),KRATZ_STORAGE.mejs_attempts=0});